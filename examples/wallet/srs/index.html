<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../../img/favicon.ico" />
    <title>Requirements - arcanex-sdk-js</title>
    <link rel="stylesheet" href="../../../css/theme.css" />
    <link rel="stylesheet" href="../../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Requirements";
        var mkdocs_page_input_path = "examples/wallet/srs.md";
        var mkdocs_page_url = null;
      </script>
    
    <script src="../../../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../../.." class="icon icon-home"> arcanex-sdk-js
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../..">Overview</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../../rpc/">RPC</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../../acnet/">ACNet</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../../subscriber/">Event Subscription</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">internals</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../internals/account/">Account</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../internals/transactions/">Transaction</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">examples</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="#">Explorer</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../explorer/srs/">Requirements</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">Wallet</a>
    <ul class="current">
                <li class="toctree-l2 current"><a class="reference internal current" href="./">Requirements</a>
    <ul class="current">
    <li class="toctree-l3"><a class="reference internal" href="#create-account">Create Account</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#import-account">Import Account</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#export-account">Export Account</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#save-account">Save Account</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#account-list">Account List</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#lock-account">Lock Account</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#unlock-account">Unlock Account</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#mauthdoc">MAuthDoc 자동 등록</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#remove-account">Remove Account</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#account-backup">Account Backup</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#assets-balance">Assets Balance</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#transferring">Transferring</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#stakingdelegating">Staking/Delegating</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#unstakingundelegating">Unstaking/Undelegating</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#external-transaction-signing">External Transaction Signing</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#blockchain-network-monitoring">Blockchain Network Monitoring</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#assets-swapping">Assets Swapping</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#arcanex-mdl-node-setting">ARCANEX / MDL Node Setting</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#authentication-methods">Authentication methods</a>
    </li>
    </ul>
                </li>
    </ul>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../..">arcanex-sdk-js</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../.." class="icon icon-home" alt="Docs"></a> &raquo;</li>
          <li>examples &raquo;</li>
          <li>Wallet &raquo;</li>
      <li>Requirements</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="overview">Overview</h1>
<pre><code class="language-plantuml">@startuml
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Component.puml

Person(user, &quot;User&quot;)

System_Boundary(verifier, &quot;Service&quot;) {
    Container_Ext(service, &quot;Service&quot;)
    Container(mauth_sdk, &quot;MAUTH SDK&quot;)
}
System_Boundary(device, &quot;User's device&quot;) {
    Container(mauth_app, &quot;MAUTH APP&quot;, &quot;And, iOS&quot;, &quot;&quot;)
    Container(seczone, &quot;Secret Zone&quot;)
}

System_Ext(expusher, &quot;Push messaging service&quot;)

System(bc, &quot;Trusted Storage&quot;, &quot;Blockchain Network\nor\nAPI Server and DB&quot;)


Lay_D(user, verifier)
Lay_D(service, mauth_sdk)
Lay_D(user, device)
Lay_R(mauth_app, seczone)
Lay_D(verifier, bc)
Lay_D(device, expusher)

BiRel(user, service, &quot;인증/서명 요청&quot;)
BiRel(service, mauth_sdk, &quot;인증/서명 요청&quot;)
BiRel(mauth_sdk, bc, &quot;MAuthDoc 조회&quot;)
BiRel(user, mauth_app, &quot;MAuthDoc 생성/갱신, 인증요청 검토/확인&quot;)
BiRel_R(mauth_app, seczone, &quot;Keypair 생성, 전자서명&quot;)
Rel(mauth_app, bc, &quot;MAuthDoc 저장&quot;)
Rel(mauth_sdk, expusher, &quot;Push message&quot;)
Rel_U(expusher, mauth_app, &quot;Push message&quot;)

@enduml
</code></pre>
<h2 id="create-account">Create Account</h2>
<p>ArcaWallet 은 사용자 요청시 새로운 Account 를 생성한다.
여기서 Account 생성은 ECDSA(secp256k1 curve) KeyPair 생성을 의미한다.<br />
ArcaWallet 은 Secp256K1 커브를 사용하여 ECDSA KeyPair 를 생성하고 저장(<a href="#save-account">Save Account</a> 참조) 한다.<br />
만일 파일 시스템에 저장할 경우, AES256 으로 암호화 하고 암호화 키는 반드시 보안영역에 의하여 관리되도록 해야 한다.</p>
<h2 id="import-account">Import Account</h2>
<p>외부에서 Private Key 를 입력 받아 ArcaWallet Account 를 생성하고 이를 저장(<a href="#save-account">Save Account</a> 참조) 한다.</p>
<h2 id="export-account">Export Account</h2>
<p>사용자 요청시 Account 는 <a href="../../data/#arcanex-wallet-format--awf-">AWF</a> 형식으로 내보내기 될 수 있다.
AWF 는 QR 코드 또는 텍스트 형식으로 노출 될 수 있으며,
텍스트 형식으로 노출될 경우, 복사 기능을 추가적으로 지원한다.</p>
<h2 id="save-account">Save Account</h2>
<p>Account 는 <a href="../../data/#arcanex-wallet-format--awf-">AWF</a> 형식으로 저장되어야 한다.</p>
<h2 id="account-list">Account List</h2>
<p>디바이스에 저장된 Account 는 목록으로 사용자에게 제공된다.
이 목록에서 사용자가 선택한 계정을 본 문서에서 <strong>선택 계정</strong> 이라는 용어로 명시하기로 한다.</p>
<h2 id="lock-account">Lock Account</h2>
<p>모든 계정은 메모리상에 항상 '<strong>잠금상태</strong>' 로 존재하여야 한다.
'<strong>잠금상태</strong>' 란 Account 의 Private Key가 암호화된 상태여야 함을 의미한다.
즉, 의도된 시점을 제외한 어떤 때라도 복화화된 평문 Private Key가 메모리상에 존재해서는 안된다.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>AWF 가 암호화된 형태이기 때문에 이를 메모리상에 로드한 Account 객체는 이미 잠금 상태이다.<br />
필요시 AWF 의 Private Key를 복호화 하여 사용되는데, 결국 잠금상태란 복호화된 Private Key 를 메모리상에서 제거하는 것을 의미한다.
그리고 복호화된 Private Key 란, 평문 형태의 Private Key 가 점유한 메모리 영역을 zero값(또는 의미 없는 쓰레기 값) 으로 overwriting 함을 의미한다.</p>
</div>
<h2 id="unlock-account">Unlock Account</h2>
<p>전자서명 생성을 위해 Private Key 가 복호화 되어야 할 경우,
사용자의 기밀정보(passphrase, fingerprint, face id 등)를 이용한 인증 절차를 통해 Private Key를 복호화 한다.  </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>사용이 완료된 평문 Private Key 는 메모리상에서 반드시 제거 되어야 한다. 즉 다시 <strong>잠금상태</strong> 되어야 한다.</p>
</div>
<h2 id="mauthdoc">MAuthDoc 자동 등록</h2>
<p>디바이스에 저장되는 모든 Account 의 Public Key 는 'MAuthDoc' 으로 자동 등록되어야 한다.</p>
<h2 id="remove-account">Remove Account</h2>
<p><em>Sprint2</em></p>
<h2 id="account-backup">Account Backup</h2>
<p><em>Sprint2</em></p>
<h2 id="assets-balance">Assets Balance</h2>
<p>ArcaWallet 은 설정된 노드에 접속하여 해당 네트워크에서 현재 선택된 Account 의 잔액 정보를 보여준다.</p>
<h2 id="transferring">Transferring</h2>
<p>현재 선택된 Account 의 자산을 사용자가 지정한 주소의 계정으로, 사용자가 지정한 수량 만큼 전송 할 수 있는 기능을 제공한다.  </p>
<h2 id="stakingdelegating">Staking/Delegating</h2>
<p>현재 선택된 Account 의 자산을 중 사용자가 지정한 수량 만큼 지분으로 전환 할 수 있는 기능을 제공한다.
자신의 지분으로 전환하는 것을 <strong>지분전환 (Staking)</strong> 이라 하고, 다른 계정의 지분으로 전환 하는 것을 <strong>지분위임 (Delegating)</strong> 이라 한다.
자신의 지분 또는 위임 지분은 ArcaScan 을 통해 확인 할 수 있다.</p>
<h2 id="unstakingundelegating">Unstaking/Undelegating</h2>
<p>Staking/Delegating 한 지분을 다시 자산으로 전환 할 수 있는 기능을 제공한다.
지분을 자산으로 전환 하는 경우, 해당 트랜잭션이 처리 되더라도 바로 전환되지 않는다. 
거버넌스에서 정한 일정기간이 지난 후에 사용가능한 자산으로 전환된다.
즉 일종의 '해동기간' 이 필요한데, 이 상태에 있는 자산 정보를 사용자가 확인 할 수 있어야 한다.</p>
<h2 id="external-transaction-signing">External Transaction Signing</h2>
<p>외부에서 생성된 트랜잭션에 대한 전자서명이 요청될 수 있다.
외부에서 요청된 트랜잭션을 사용자가 확인하고 이에 대한 전자서명 후,
특정된 블록체인 네트워크로 제출할 수 있는 기능이 제공되어야 한다.</p>
<h2 id="blockchain-network-monitoring">Blockchain Network Monitoring</h2>
<p>Sprint2</p>
<h2 id="assets-swapping">Assets Swapping</h2>
<p>Sprint2</p>
<h2 id="arcanex-mdl-node-setting">ARCANEX / MDL Node Setting</h2>
<p>ArcaWallet 이 접속할 블록체인 네트워크의 노드 URL 을 추가 할 수 있어야 한다.
이미 추가된 노드 URL 은 목록 형태로 제공되어 선택 가능해야 한다.</p>
<h2 id="authentication-methods">Authentication methods</h2>
<p>ArcaWallet 은 다음과 같은 사용자 인증 수단을 제공해야 한다.</p>
<ul>
<li>비밀번호<br />
사용자로 부터 보안 키보드를 통해 입력 받는 문자열.</li>
<li>지문<br />
디바이스 지원 여부를 확인하여 해당 기능 활성화 여부를 결정한다.</li>
<li>안면인식<br />
디바이스 지원 여부를 확인하여 해당 기능 활성화 여부를 결정한다.</li>
</ul>
<p>디바이스가 지원한다면 가급적 생체 정보를 사용하도록 유도하는 사용 시나리오를 적용한다.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../../explorer/srs/" class="btn btn-neutral float-left" title="Requirements"><span class="icon icon-circle-arrow-left"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../../explorer/srs/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
  </span>
</div>
    <script>var base_url = '../../..';</script>
    <script src="../../../js/theme_extra.js" defer></script>
    <script src="../../../js/theme.js" defer></script>
      <script src="../../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
