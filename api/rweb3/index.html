<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>RWeb3 - rigo-sdk-js</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "RWeb3";
        var mkdocs_page_input_path = "api/rweb3.md";
        var mkdocs_page_url = null;
      </script>
    
    <script src="../../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> rigo-sdk-js
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Overview</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../..">Key Features</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../quick/">Quick Start</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">API</span></p>
              <ul class="current">
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">Javascript API</a>
    <ul class="current">
                <li class="toctree-l2"><a class="reference internal" href="../account/">Account</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../trxbuilder/">TrxBuilder</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../subscriber/">Subscriber</a>
                </li>
                <li class="toctree-l2 current"><a class="reference internal current" href="./">RWeb3</a>
    <ul class="current">
    <li class="toctree-l3"><a class="reference internal" href="#seturl">~~setUrl~~</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#parameters">Parameters</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#example">Example</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#geturl">getUrl</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#example_1">Example</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#queryblockbyheight">queryBlockByHeight</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#parameters_1">Parameters</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#example_2">Example</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#returns">Returns</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#queryblockbyhash">queryBlockByHash</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#parameters_2">Parameters</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#example_3">Example</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#returns_1">Returns</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#broadcasttrxsync">broadcastTrxSync</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#parameters_3">Parameters</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#querytrx">queryTrx</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#parameters_4">Parameters</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#example_4">Example</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#returns_2">Returns</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#queryaccount">queryAccount</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#parameters_5">Parameters</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#example_5">Example</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#returns_3">Returns</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#syncaccount">syncAccount</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#parameters_6">Parameters</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#example_6">Example</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#returns_4">Returns</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#queryvalidators">queryValidators</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#parameters_7">Parameters</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#example_7">Example</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#returns_5">Returns</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#querystakes">queryStakes</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#parameters_8">Parameters</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#example_8">Example</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#returns_6">Returns</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#querydelegatee">queryDelegatee</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#queryrule">queryRule</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#example_9">Example</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#returns_7">Returns</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#subscribe">subscribe</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#parameters_9">Parameters</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#example_10">Example</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#returns_8">Returns</a>
    </li>
        </ul>
    </li>
    </ul>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../rpc/">RPC API</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">examples</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="#">Explorer</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../examples/explorer/srs/">Requirements</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Wallet</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../examples/wallet/srs/">Requirements</a>
                </li>
    </ul>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">rigo-sdk-js</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" alt="Docs"></a> &raquo;</li>
          <li>API &raquo;</li>
          <li>Javascript API &raquo;</li>
      <li>RWeb3</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h2 id="rweb3">RWeb3</h2>
<p><code>RWeb3</code> API 는 RIGO Provider (RIGO RPC 서버) 에 접속하여 JSONRPC 요청 작업을 수행 한다.</p>
<pre><code class="language-ts">import RWeb3 from &quot;rweb3&quot;;
const rweb3 = new RWeb3('http://localhost:26657')

...

</code></pre>
<hr />
<h3 id="seturl">~~setUrl~~</h3>
<p><em>DEPRECATED</em></p>
<p><code>RWeb3</code> API 호출시 접속하게 될 Provider(RIGO 노드 RPC 서버) URL을 설정한다.</p>
<pre><code class="language-ts">setUrl(url:string)
</code></pre>
<h4 id="parameters">Parameters</h4>
<ul>
<li><code>url</code>: RIGO 노드의 RPC 서버 URL</li>
</ul>
<h4 id="example">Example</h4>
<pre><code class="language-ts">rweb3.setUrl('http://localhost:26657')
</code></pre>
<hr />
<h3 id="geturl">getUrl</h3>
<p>현재 사용중인 Provider(RIGO 노드 RPC 서버) URL 조회.</p>
<pre><code class="language-ts">static getUrl():string
</code></pre>
<h4 id="example_1">Example</h4>
<pre><code class="language-ts">const nodeUrl = rweb3.getUrl()
console.log(nodeUrl) // 'http://localhost:26657'
</code></pre>
<hr />
<h3 id="queryblockbyheight">queryBlockByHeight</h3>
<pre><code class="language-ts">queryBlockByHeight(height: number|string): PromiseLike&lt;any&gt;
</code></pre>
<p>블록 높이(번호)로 블록을 조회 한다.</p>
<h4 id="parameters_1">Parameters</h4>
<ul>
<li><code>height</code>: 블록 높이(번호).</li>
</ul>
<h4 id="example_2">Example</h4>
<pre><code class="language-ts">rweb3.queryBlockByHeight(10818).then(resp =&gt; {
    console.log(resp)
}

</code></pre>
<h4 id="returns">Returns</h4>
<pre><code class="language-json">{
  &quot;block_id&quot;: {
    &quot;hash&quot;: &quot;2227E9F1505C98EE0360A953735623FC3FD74A6E81ADFC9D7EF3BE8927F9136E&quot;,
    &quot;parts&quot;: {
      &quot;total&quot;: 1,
      &quot;hash&quot;: &quot;99334F31D0B4CFFEFDC4D5E79C3D2088E1A6EC86DD89D239F814C48FDB50ADEE&quot;
    }
  },
  &quot;block&quot;: {
    &quot;header&quot;: {
      &quot;version&quot;: {
        &quot;block&quot;: &quot;11&quot;,
        &quot;app&quot;: &quot;4294967296&quot;
      },
      &quot;chain_id&quot;: &quot;localnet&quot;,
      &quot;height&quot;: &quot;10818&quot;,
      &quot;time&quot;: &quot;2023-02-07T08:05:56.788513Z&quot;,
      &quot;last_block_id&quot;: {
        &quot;hash&quot;: &quot;8113152BFD6476DBDA918F3870F8EE7EE9370A56AE99231E032BE384764BE3EE&quot;,
        &quot;parts&quot;: {
          &quot;total&quot;: 1,
          &quot;hash&quot;: &quot;E856C017C67CD7559467C1A16377ECD8B8A0B19A17AA53ADE73AE82BA811E5BC&quot;
        }
      },
      &quot;last_commit_hash&quot;: &quot;8A5A5F04B37C4E318C211C343907B1DD64515C6C7F922DE61CFDE593117515D0&quot;,
      &quot;data_hash&quot;: &quot;003D156CB163310A1B87407DD97F6242F92ED8ED9347DC2B3C7FB83524899F57&quot;,
      &quot;validators_hash&quot;: &quot;FE36DFA0965A3207F370004FD5A35B0D9CFE22C1E5EC6282B11E0A078E022C11&quot;,
      &quot;next_validators_hash&quot;: &quot;FE36DFA0965A3207F370004FD5A35B0D9CFE22C1E5EC6282B11E0A078E022C11&quot;,
      &quot;consensus_hash&quot;: &quot;048091BC7DDC283F77BFBF91D73C44DA58C3DF8A9CBC867405D8B7F3DAADA22F&quot;,
      &quot;app_hash&quot;: &quot;322829380FD53F359AF2040B2536FB0B6A47E2DDF4918766590541D719D1CAD7&quot;,
      &quot;last_results_hash&quot;: &quot;CCEC9736296570B1A5CA9F69D56AE286E473BDE1950EB97B419259C2DA071637&quot;,
      &quot;evidence_hash&quot;: &quot;E3B0C44298FC1C149AFBF4C8996FB92427AE41E4649B934CA495991B7852B855&quot;,
      &quot;proposer_address&quot;: &quot;8DC41A86B91EB88D82489C4D037AE9FFCA65CFBF&quot;
    },
    &quot;data&quot;: {
      &quot;txs&quot;: [
        &quot;CAEQwKK/6piI36AXGJoIIhTEYfux+YzfUycqPFBZp2SsYziBXCoUrjsLNQASnt99xA4njqI1k3RaF4QyAgLEOgEKQAFSQdLVXe+ELBnuS2vF0OwYlfDNgurj0IWiBXGdq8cpaO81M6qvwyiGb8Mr6ZWOnD3/nDvWEkKCSKVWuS+Ld4bXg1wA&quot;,
        &quot;CAEQkK/A6piI36AXGJoIIhQAQCOcw9QIFDgBqNRXMYBk7BBd/yoUfEskb4RzA8QqK4B2H39FIVpmxAUyAgLEOgEKQAFSQVPT9NJZ426c89CotpatqndouTxORCt94204obWs6RlXa1e2vSpZwrFkfCn409SsoIkPrQUoXm29K/dWzoJvatIB&quot;,
        &quot;CAEQkKbD6piI36AXGJoIIhSNFO5EqCyixc74BbcNjB0kDbooISoUMLAlEfyMyew1LDPiOyR8dqPntqgyAgLEOgEKQAFSQcz4UOU5qT9H8txblik9sYiCBrS3dkO7/v/AwPgjR31HIdK1RFd7Gvi5aNOC12WBDVNrPzX/s14zwH9vG9LEXJsB&quot;,
        &quot;CAEQ+KfF6piI36AXGJoIIhQRkD2yGoCJ2LplnWugmZteVqGJLCoUb6EpBDEV3C1kjGLETUsdVClZmnkyAgLEOgEKQAFSQUTYppjNZzJiv73eBd4iVL0MZRFefI27+1F7DclBN/PUVgO3ymip5wo9oDmjujjX+JRug0WJZ75Huyuc9229CoAA&quot;,
        &quot;CAEQmKbQ6piI36AXGJoIIhQ923KOXCHGdek8olfpLuS6Bq8RjyoUcdqwpyeP8PU+s7QVP+ZaIv3NXqgyAgLEOgEKQAFSQXdmLY21GvElXS54SMShK+VTGhn5y+6DbayWD4NMBeM2A9E3Fuus5PjQgYuofZNN6BOS3zUuTogdCj5jMIRMTV0A&quot;,
        &quot;CAEQoMrR6piI36AXGJoIIhTtwwfQPUjSDuS+fNE8FfLD1GJXlyoUZxMNYNR9J+jqpNUFkBClkG8XqS0yAgLEOgEKQAFSQcRZEHGNiMQuxh6rYucuLb6w3LP9x4pYGq54f3XP/654Fxf2zANuO01cPkQTZdhi0Y2JaTEnjJ5OCpY+ctOs1wwA&quot;,
        &quot;CAEQiNjP6piI36AXGJoIIhQUFOQiWO8r7++FWhg7jOkucHR/SyoU2KU7DNCsqsSOEWZTjtrittYSBlkyAgLEOgEKQAFSQU04aE+ZAJ7W7V9Kv5zu7Rz7e1CDuUtq3kSOc1FedKSQaCCuXqF2/x5RSc1Ix19ksY89UBUbxf9J4QBp/0D/saAA&quot;,
        &quot;CAEQkPPT6piI36AXGJoIIhSzK8vw2EZt+BNCYr7RCMa6SCvtdyoUssY9flobuPJRnY9xdsLa3slx40AyAgLEOgEKQAFSQQA5/AS+cwqb7D89In8Qsnm1EYYkvJlLS/Iyt5qJlRy1SrVmBP+GRfv1H8m7pHGk1sdvv42EydP3sNZAcU3YccgA&quot;,
        &quot;CAEQ6KbV6piI36AXGJoIIhRh8JfNVC+0RFKIvBUuxz+WEstDHioUNiw81aRP6L6KD03GCBVLCmiU814yAgLEOgEKQAFSQWy45CDU57VHi4O7AmZuCpd5HYfJCATP651y4ZIQi+uYUHojMZgcDsG7euId5oqKX4+1BN/Zplw6/IcL8hTANgAB&quot;
      ]
    },
    &quot;evidence&quot;: {
      &quot;evidence&quot;: []
    },
    &quot;last_commit&quot;: {
      &quot;height&quot;: &quot;10817&quot;,
      &quot;round&quot;: 0,
      &quot;block_id&quot;: {
        &quot;hash&quot;: &quot;8113152BFD6476DBDA918F3870F8EE7EE9370A56AE99231E032BE384764BE3EE&quot;,
        &quot;parts&quot;: {
          &quot;total&quot;: 1,
          &quot;hash&quot;: &quot;E856C017C67CD7559467C1A16377ECD8B8A0B19A17AA53ADE73AE82BA811E5BC&quot;
        }
      },
      &quot;signatures&quot;: [
        {
          &quot;block_id_flag&quot;: 2,
          &quot;validator_address&quot;: &quot;8DC41A86B91EB88D82489C4D037AE9FFCA65CFBF&quot;,
          &quot;timestamp&quot;: &quot;2023-02-07T08:05:56.788513Z&quot;,
          &quot;signature&quot;: &quot;JC8Js09k3LPlWFmV3kJoL2gkgvA74Did2cZTRXFdjfRikA0aRwNDMkAnMDtAxtRgsa8ZSVDLngDg3gtU1sq6bg==&quot;
        }
      ]
    }
  }
}
</code></pre>
<ul>
<li><code>block_id</code>: 블록 해시 값. <code>block_id.hash</code> 값을 사용한다.</li>
<li><code>block</code>: 블록의 내용.</li>
<li><code>data.txs</code>: 블록에 포함된 트랜잭션 배열. 각각의 트랜잭션 데이터는 Protobuf v3 인코딩 데이터의 base64 형식.</li>
</ul>
<hr />
<h3 id="queryblockbyhash">queryBlockByHash</h3>
<pre><code class="language-ts">queryBlockByHash(hash: string|Uint8Array): PromiseLike&lt;any&gt;
</code></pre>
<p>블록 해시 값으로 블록을 조회 한다.</p>
<h4 id="parameters_2">Parameters</h4>
<ul>
<li><code>hash</code>: 블록 해시 값. (32bytes or 64chars hex-string)</li>
</ul>
<h4 id="example_3">Example</h4>
<pre><code class="language-ts">rweb3.queryBlockByHash(&quot;2227E9F1505C98EE0360A953735623FC3FD74A6E81ADFC9D7EF3BE8927F9136E&quot;).then(resp =&gt; {
    console.log(resp)
}
</code></pre>
<h4 id="returns_1">Returns</h4>
<p><code>queryBlockByHeight</code> 와 동일</p>
<hr />
<h3 id="broadcasttrxsync">broadcastTrxSync</h3>
<pre><code class="language-ts">broadcastTrxSync(tx: TrxProto): PromiseLike&lt;any&gt;
</code></pre>
<p>트랜잭션을 RIGO 네트워크에 제출 한다.  </p>
<h4 id="parameters_3">Parameters</h4>
<ul>
<li><code>tx</code>: 트랜잭션 객체. <code>TrxBuiler.BuildXXX</code> 로 생성. <a href="../trxbuilder/">TrxBuilder</a> 참조.</li>
</ul>
<hr />
<h3 id="querytrx">queryTrx</h3>
<pre><code class="language-ts">queryTrx(txhash: string|Uint8Array)
</code></pre>
<p>트랜잭션 해시로 트랜잭션을 조회한다.</p>
<h4 id="parameters_4">Parameters</h4>
<ul>
<li><code>txhash</code>: 조회하고자 하는 트랜잭션의 해시. (32bytes or 64chars Hex-string)</li>
</ul>
<h4 id="example_4">Example</h4>
<pre><code class="language-ts">rweb3.queryTrx(&quot;AD10C104B8E3B3DBE357CF4133B8376B6EB48E44AE28260D42F7A0B53E1B34F1&quot;).then(resp =&gt; {
  console.log(resp)
  console.log(resp.encoded) // base64(protobuf(tx object))
  console.log(resp.tx) // tx object
})
</code></pre>
<h4 id="returns_2">Returns</h4>
<pre><code class="language-json">{
    &quot;hash&quot;: &quot;AD10C104B8E3B3DBE357CF4133B8376B6EB48E44AE28260D42F7A0B53E1B34F1&quot;,
    &quot;height&quot;: &quot;6980&quot;,
    &quot;index&quot;: 0,
    &quot;tx_result&quot;: {
        &quot;code&quot;: 0,
        &quot;data&quot;: null,
        &quot;log&quot;: &quot;&quot;,
        &quot;info&quot;: &quot;&quot;,
        &quot;gas_wanted&quot;: &quot;10&quot;,
        &quot;gas_used&quot;: &quot;10&quot;,
        &quot;events&quot;: [
            {
                &quot;type&quot;: &quot;tx&quot;,
                &quot;attributes&quot;: [
                    {
                        &quot;key&quot;: &quot;dHgudHlwZQ==&quot;,
                        &quot;value&quot;: &quot;dHJhbnNmZXI=&quot;,
                        &quot;index&quot;: true
                    },
                    {
                        &quot;key&quot;: &quot;dHguc2VuZGVy&quot;,
                        &quot;value&quot;: &quot;MjkwMzZBQjAwRDE4QjFCNzI3NDQ0ODJGNUEwOUZEREU4QzZGMTk2RQ==&quot;,
                        &quot;index&quot;: true
                    },
                    {
                        &quot;key&quot;: &quot;dHgucmVjZWl2ZXI=&quot;,
                        &quot;value&quot;: &quot;OERDNDFBODZCOTFFQjg4RDgyNDg5QzREMDM3QUU5RkZDQTY1Q0ZCRg==&quot;,
                        &quot;index&quot;: true
                    },
                    {
                        &quot;key&quot;: &quot;dHguYWRkcnBhaXI=&quot;,
                        &quot;value&quot;: &quot;MjkwMzZBQjAwRDE4QjFCNzI3NDQ0ODJGNUEwOUZEREU4QzZGMTk2RThEQzQxQTg2QjkxRUI4OEQ4MjQ4OUM0RDAzN0FFOUZGQ0E2NUNGQkY=&quot;,
                        &quot;index&quot;: true
                    }
                ]
            }
        ],
        &quot;codespace&quot;: &quot;&quot;
    },
    &quot;tx&quot;: {
        &quot;hash&quot;: &quot;ad10c104b8e3b3dbe357cf4133b8376b6eb48e44ae28260d42f7a0b53e1b34f1&quot;,
        &quot;version&quot;: 1,
        &quot;time&quot;: &quot;1675752794424000000&quot;,
        &quot;nonce&quot;: &quot;3&quot;,
        &quot;from&quot;: &quot;29036ab00d18b1b72744482f5a09fdde8c6f196e&quot;,
        &quot;to&quot;: &quot;8dc41a86b91eb88d82489c4d037ae9ffca65cfbf&quot;,
        &quot;amount&quot;: &quot;1&quot;,
        &quot;gas&quot;: &quot;10&quot;,
        &quot;type&quot;: 1,
        &quot;sig&quot;: &quot;89122638fef0e2793a0f3fba18fa9884690d8f1ac957fb1437e9b282f74909c04aae758bd118e7f324f25fbecedfc61e9c90fe6749fd1f0905945571f8360d0500&quot;
    },
    &quot;proof&quot;: {
        &quot;root_hash&quot;: &quot;D27A3C02E3618E16982ED008703381BB43A84C44A12ECE2600E271200E42099E&quot;,
        &quot;data&quot;: &quot;CAEQgPyK2JuJ3qAXGAMiFCkDarANGLG3J0RIL1oJ/d6MbxluKhSNxBqGuR64jYJInE0Deun/ymXPvzIBAToBCkABUkGJEiY4/vDieToPP7oY+piEaQ2PGslX+xQ36bKC90kJwEqudYvRGOfzJPJfvs7fxh6ckP5nSf0fCQWUVXH4Ng0FAA==&quot;,
        &quot;proof&quot;: {
            &quot;total&quot;: &quot;1&quot;,
            &quot;index&quot;: &quot;0&quot;,
            &quot;leaf_hash&quot;: &quot;0no8AuNhjhaYLtAIcDOBu0OoTEShLs4mAOJxIA5CCZ4=&quot;,
            &quot;aunts&quot;: []
        }
    },
    &quot;encoded&quot;: &quot;CAEQgPyK2JuJ3qAXGAMiFCkDarANGLG3J0RIL1oJ/d6MbxluKhSNxBqGuR64jYJInE0Deun/ymXPvzIBAToBCkABUkGJEiY4/vDieToPP7oY+piEaQ2PGslX+xQ36bKC90kJwEqudYvRGOfzJPJfvs7fxh6ckP5nSf0fCQWUVXH4Ng0FAA==&quot;
}
</code></pre>
<ul>
<li><code>hash</code>: 트랜잭션 해시</li>
<li><code>height</code>: 트랜잭션이 포함된 블록의 높이(번호)</li>
<li><code>index</code>: 블록내에서 트랜잭션의 순번</li>
<li><code>tx_result</code>: 트랜잭션 처리 결과.  <code>tx_result.code</code>가 <code>0</code> 이면 성공, 그렇지 않으면 실패에 해당된다.</li>
<li><code>tx</code>: 처리된 트랜잭션.</li>
<li><code>encoded</code>: Protobuf v3 로 인코딩된 트랜잭션 데이터의 base64 형식.</li>
<li><code>proof</code>:</li>
</ul>
<hr />
<h3 id="queryaccount">queryAccount</h3>
<pre><code class="language-ts">queryAccount(addr: string|Bytes)
</code></pre>
<p><code>addr</code>로 지정된 주소의 <code>Account</code> 최신 상태 정보를 조회 한다.</p>
<h4 id="parameters_5">Parameters</h4>
<ul>
<li><code>addr</code>: 조회 대상 <code>Account</code>의 주소. (20bytes 또는 40chars hex-string)</li>
</ul>
<h4 id="example_5">Example</h4>
<pre><code class="language-ts">rweb3.queryAccount(&quot;DF976A96545DAD0E0B14FED615587A89BA980B84&quot;).then(resp =&gt; {
    console.log(resp)
})
</code></pre>
<h4 id="returns_3">Returns</h4>
<pre><code class="language-json">{
    ...
    &quot;value&quot;: {
        &quot;address&quot;: &quot;DF976A96545DAD0E0B14FED615587A89BA980B84&quot;,
        &quot;nonce&quot;: 0,
        &quot;balance&quot;: &quot;0&quot;
    }
    ...
}    
</code></pre>
<p><code>value</code> 객체의 값이 실질적인 조회 결과에 해당된다.</p>
<ul>
<li><code>address</code>: 조회한 계정의 주소. <code>key</code> 값과 동일한 값.</li>
<li><code>nonce</code>: 현재 계정으로 발행한 트랜잭션 수.</li>
<li><code>balance</code>: 계정의 잔액.</li>
</ul>
<hr />
<h3 id="syncaccount">syncAccount</h3>
<pre><code class="language-ts">syncAccount(acct: Account, cb?:(_:any)=&gt;void) 
</code></pre>
<p>블록체인상에 기록된 <code>acct</code>의 최신 상태 정보(<code>nonce</code>, <code>balance</code>) 를 동기화 한다.</p>
<h4 id="parameters_6">Parameters</h4>
<ul>
<li><code>acct</code>: 조회 대상 <code>Account</code> 객체.</li>
</ul>
<h4 id="example_6">Example</h4>
<pre><code class="language-ts">let acct = Account.New(&quot;test-0&quot;)

    ...

rweb3.syncAccount(acct, resp =&gt; {
    console.log(acct) // `acct` is not updated.
})
.then( resp =&gt; {
    console.log(acct) // `acct` is updated.
})
</code></pre>
<h4 id="returns_4">Returns</h4>
<p><code>queryAccount</code> 의 리턴값과 동일하다.</p>
<hr />
<h3 id="queryvalidators">queryValidators</h3>
<pre><code class="language-ts">queryValidators(height:number|string)
</code></pre>
<p>지정된 블록 번호 시점의 Validator 목록을 조회한다.</p>
<h4 id="parameters_7">Parameters</h4>
<ul>
<li><code>height</code>: 블록 번호.</li>
</ul>
<h4 id="example_7">Example</h4>
<pre><code class="language-ts">rweb3.queryValidators().then( resp =&gt; {
    console.log(resp)
})
</code></pre>
<h4 id="returns_5">Returns</h4>
<pre><code class="language-json">{
    &quot;block_height&quot;: &quot;1153&quot;,
    &quot;validators&quot;: [
      {
        &quot;address&quot;: &quot;8DC41A86B91EB88D82489C4D037AE9FFCA65CFBF&quot;,
        &quot;pub_key&quot;: {
          &quot;type&quot;: &quot;tendermint/PubKeySecp256k1&quot;,
          &quot;value&quot;: &quot;Ax2d8cCfC60NjIS7G6J8hHTPPf6JvxgPRjSVpL+83Qkr&quot;
        },
        &quot;voting_power&quot;: &quot;10&quot;,
        &quot;proposer_priority&quot;: &quot;0&quot;
      }
    ],
    &quot;count&quot;: &quot;1&quot;,
    &quot;total&quot;: &quot;1&quot;
}
</code></pre>
<ul>
<li><code>block_height</code>: 블록 번호.</li>
<li><code>validators</code>: Validator 목록.</li>
<li><code>address</code>: Validator 계정의 주소.</li>
<li><code>pub_key</code>: Validator의 Public Key. (Base64 인코딩)</li>
<li><code>voting_power</code>: Validator의 지분.</li>
<li><code>proposer_proiority</code>: Validator 가 블록 제안자(Proposer)가 될 수 있는 우선 순위.<br />
    지분이 클 수록, 마지막 블록 제안이후 경과 시간이 클 수록 우선 순위는 높아진다.</li>
<li><code>count</code>: <code>validators</code> 의 개수.</li>
<li><code>total</code>: 현재(<code>block_height</code>) 시점의 총 Validator 수.</li>
</ul>
<hr />
<h3 id="querystakes">queryStakes</h3>
<pre><code class="language-ts">queryStakes(addr: string|Bytes)
</code></pre>
<p>주소가 <code>addr</code>인 계정의 지분목록을 조회한다.</p>
<h4 id="parameters_8">Parameters</h4>
<ul>
<li><code>addr</code>: 계정 주소.</li>
</ul>
<h4 id="example_8">Example</h4>
<pre><code class="language-ts"> rweb3.queryStakes(&quot;8DC41A86B91EB88D82489C4D037AE9FFCA65CFBF&quot;).then (resp =&gt; {
     console.log(resp)
 }
</code></pre>
<h4 id="returns_6">Returns</h4>
<pre><code class="language-json">{
    ...
    &quot;value&quot;: [
      {
        &quot;owner&quot;: &quot;8DC41A86B91EB88D82489C4D037AE9FFCA65CFBF&quot;,
        &quot;to&quot;: &quot;8DC41A86B91EB88D82489C4D037AE9FFCA65CFBF&quot;,
        &quot;amount&quot;: 10000000000000000000,
        &quot;power&quot;: &quot;10&quot;,
        &quot;blockRewardUnit&quot;: 10000000000,
        &quot;ReceivedReward&quot;: 0,
        &quot;txhash&quot;: &quot;0000000000000000000000000000000000000000000000000000000000000000&quot;,
        &quot;startHeight&quot;: &quot;0&quot;,
        &quot;refundHeight&quot;: &quot;0&quot;
      },
      ...
    ]
}
</code></pre>
<ul>
<li><code>owner</code>:</li>
<li><code>to</code>:</li>
<li><code>amount</code>:</li>
<li><code>power</code>:</li>
<li><code>blockRewardUnit</code>:</li>
<li><code>txhash</code>:</li>
<li><code>startHeight</code>:</li>
<li><code>refundHeight</code>:</li>
</ul>
<hr />
<h3 id="querydelegatee">queryDelegatee</h3>
<p><em>Not descripted yet</em></p>
<hr />
<h3 id="queryrule">queryRule</h3>
<pre><code class="language-ts">queryRule(): PromiseLike&lt;any&gt;
</code></pre>
<p>현재 적용된 governance rule 을 조회한다.</p>
<h4 id="example_9">Example</h4>
<pre><code class="language-ts">rweb3.queryRule().then(resp =&gt; {
    console.log(resp)
})
</code></pre>
<h4 id="returns_7">Returns</h4>
<pre><code class="language-json">{
    &quot;value&quot;: {
      &quot;version&quot;: &quot;0&quot;,
      &quot;maxValidatorCnt&quot;: &quot;21&quot;,
      &quot;amountPerPower&quot;: &quot;1000000000000000000&quot;,
      &quot;rewardPerPower&quot;: &quot;1000000000&quot;,
      &quot;lazyRewardBlocks&quot;: &quot;20&quot;,
      &quot;lazyApplyingBlocks&quot;: &quot;10&quot;,
      &quot;minTrxFee&quot;: &quot;10&quot;,
      &quot;minVotingPeriodBlocks&quot;: &quot;259200&quot;,
      &quot;maxVotingPeriodBlocks&quot;: &quot;2592000&quot;
    }
  }
</code></pre>
<ul>
<li><code>version</code>: 거버넌스 규칙 버전.</li>
<li><code>maxValidatorCnt</code>: 최대 Validator 수.</li>
<li><code>amountPerPower</code>: 1 voting power 당 암호화폐 자산 수량.</li>
<li><code>rewardPerPower</code>: 1 voting power 당 받게되는 블록 보상 수량.</li>
<li><code>lazyRewardBlocks</code>: Un-staking 후 보상량을 전송할 수 있게 되기까지의 블록 수.</li>
<li><code>lazyApplyingBlocks</code>: 제안된 새로운 거버넌스 규칙이 투표 종료 부터 실재 반영되기까지의 블록 수.</li>
<li><code>minTrxFee</code>: 최소 트랜잭션 수수료.</li>
<li><code>minVotingPeriodBlocks</code>: 최소 투표 기간(블록 수).</li>
<li><code>maxVotingPeriodBlocks</code>: 최대 투표 기간(블록 수).</li>
</ul>
<hr />
<h3 id="subscribe">subscribe</h3>
<pre><code class="language-ts">subscribe(url:string, query: string, cb: (resp:string)=&gt;void): Subscriber
</code></pre>
<p>RIGO 네트워크에서 발생되는 이벤트 구독을 요청한다.<br />
구독 종료는 리턴되는 <code>Subscriber</code> 객체의 <code>stop</code> 메소드를 사용한다. 자세한 사항은 <a href="../subscriber/">Subscriber</a>를 참조한다.</p>
<h4 id="parameters_9">Parameters</h4>
<ol>
<li><code>url</code> : RIGO Node 의 websocket endpoint.</li>
<li><code>query</code> : 구독하고자 하는 이벤트 조건 지정.</li>
<li><code>cb</code> : 이벤트를 수신할 callback function.</li>
</ol>
<h4 id="example_10">Example</h4>
<pre><code class="language-ts">var sub = Subscriber.Listen('ws://localhost:26657/websocket', &quot;tm.event='NewBlockHeader'&quot;, (resp) =&gt; {
    if(!resp.data) {
        return
    }
    console.log(resp)
    // do something
})

...

listener.stop()
</code></pre>
<h4 id="returns_8">Returns</h4>
<p><code>Subscriber</code> 객체.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../subscriber/" class="btn btn-neutral float-left" title="Subscriber"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../rpc/" class="btn btn-neutral float-right" title="RPC API">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../subscriber/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../rpc/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme_extra.js" defer></script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
